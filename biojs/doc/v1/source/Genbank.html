<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">
<span id='Teselagen-bio-parsers-Genbank'>/**
</span>  * Genbank class. 
  * Sets up an empty shell object with Genbank information and methods that is later populated by GenbankFormat.js
  * @author Diana Wong
  * @author Timothy Ham (original author of GenbankFileModel.js)
  */

Ext.define(&quot;Teselagen.bio.parsers.Genbank&quot;, {
	    
<span id='Teselagen-bio-parsers-Genbank-method-constructor'>	/** 
</span>	 * Creates new Genbank
	 * @returns {Genbank} 
	 * */
	constructor: function () {
		var that = this;
		/*
		var locus;			//= Ext.create('Teselagen.bio.parsers.GenbankLocusKeyword');
		var accession;		//= Ext.create('Teselagen.bio.parsers.GenbankKeyword');// This is stupid, why not just put it in the keywords Array?
		var version;		//= Ext.create('Teselagen.bio.parsers.GenbankKeyword', {keyword: version)}; // This is stupid, why not just put it in the keywords Array?
		var features;		//= Ext.create('Teselagen.bio.parsers.GenbankFeaturesKeyword');
		var origin;			//= Ext.create('Teselagen.bio.parsers.GenbankOriginKeyword');
		*/
		var keywordsTag	= new Array();	// List of Keywords being used
<span id='Teselagen-bio-parsers-Genbank-property-keywords'>		/**
</span>		 * @property {[GenbankKeywords]} keywords Array of all the GenbankKeyword objects in a Genbank class
		 * (also includes GenbankLocusKeyword, GenbankFeaturesKeyword, GenbankOriginKeyword which inherit from GenbankKeyword).
		 */
		var keywords	= new Array();	
		
		
		// ======== Getter and Setter function ========//
<span id='Teselagen-bio-parsers-Genbank-method-findKeyword'>		/**
</span>		 * Finds and gets Keyword
		 * @param {String} key Keyword name. (e.g. &quot;LOCUS&quot;, or &quot;ORIGIN&quot;)
		 * @return {GenbankKeyword} entry
		 */
		this.findKeyword = function(key) {
			return find(key);
		}
		
		function find(key) {
			var entry;
			for (var i=0; i&lt;keywords.length; i++) {
				if (keywords[i].keyword === key) {
					entry = keywords[i];
				}
			}
			return entry;
		}
		
		//THESE DO NOT CHECK FOR NULL VALUES
<span id='Teselagen-bio-parsers-Genbank-method-getLocus'>		/**
</span>		 * Same as GB.findKeyword(&quot;LOCUS&quot;)
         * @returns {GenbankLocusKeyword}
         */
		this.getLocus = function() {
			//return locus;
			return find(&quot;LOCUS&quot;);
		}
<span id='Teselagen-bio-parsers-Genbank-method-setLocus'>		/**
</span>		 * Same as GB.addKeyword(GenbankLocusKeyword}
         * @param {GenbankLocusKeyword} pLocus
         */
		this.setLocus = function(pLocus) {
			//console.log('set locus');
			//locus = pLocus;
			keywords.push(pLocus);
		}
<span id='Teselagen-bio-parsers-Genbank-method-getOrigin'>		/**
</span>		 * Same as GB.findKeyword(&quot;ORIGIN&quot;)
         * @returns {GenbankOriginKeyword}
         */
		this.getOrigin = function() {
			//return origin;
			return find(&quot;ORIGIN&quot;);
		}
<span id='Teselagen-bio-parsers-Genbank-method-setOrigin'>		/**
</span>		 * Same as GB.addKeyword(GenbankOriginKeyword}
         * @param {GenbankOriginKeyword} pOrigin
         */
		this.setOrigin = function(pOrigin) {
			//origin = pOrigin;
			keywords.push(pOrigin);
		}
<span id='Teselagen-bio-parsers-Genbank-method-getFeatures'>		/**
</span>		 * Same as GB.findKeyword(&quot;FEATURES&quot;)
         * @returns {GenbankFeaturesKeyword}
         */
		this.getFeatures = function() {
			//return getFeatures;
			return find(&quot;FEATURES&quot;);
		}
<span id='Teselagen-bio-parsers-Genbank-method-setFeatures'>		/**
</span>		 * Same as GB.addKeyword(GenbankFeaturesKeyword}
         * @param {GenbankFeaturesKeyword} pFeatures
         */
		this.setFeatures = function(pFeatures) {
			//features = pFeatures;
			keywords.push(pFeatures);
		}
		/*
		this.getAccession = function() {
			//return accession;
			return find(&quot;ACCESSION&quot;);
		}
		this.setAccession = function(pAccession) {
			//accession = pAccession;
			keywords.push(pAccession);
		}
		
		this.getVersion = function() {
			//return version;
			return find(&quot;VERSION&quot;);
		}
		this.setVersion = function(pVersion) {
			//version = pVersion;
			keywords.push(pVersion);
		}*/
<span id='Teselagen-bio-parsers-Genbank-method-getKeywordsTag'>		/**
</span>		 * Gets KeywordsTag
		 * @return {[String]} keywordsTag
		 */
		this.getKeywordsTag = function() {
			return keywordsTag;
		}
<span id='Teselagen-bio-parsers-Genbank-method-setKeywordsTag'>		/**
</span>		 * Sets KeywordsTag
		 * @param {String} pKeywordsTag
		 */
		this.setKeywordsTag = function(pKeywordsTag) {
			keywordsTag = pKeywordsTag;
		}
<span id='Teselagen-bio-parsers-Genbank-method-getKeywords'>		/**
</span>		 * Get Keywords, an array
		 * @return {[GenbankKeywords]} pKeywords:ArrayList
		 */
		this.getKeywords = function() {
			return keywords;
		}
<span id='Teselagen-bio-parsers-Genbank-method-setKeywords'>		/**
</span>		 * Set Keywords, an array
		 * @param {[GenbankKeywords]} pKeywords:ArrayList
		 */
		this.setKeywords = function(pKeywords) {
			keywords = pKeywords;
		}
<span id='Teselagen-bio-parsers-Genbank-method-addKeyword'>		/**
</span>		 * Add a single GenbankKeyword to Genbank.keywords
         * @param {GenbankKeyword} pKeywords
         */
		this.addKeyword = function(pAddKeyword) {
			keywords.push(pAddKeyword);
		}
<span id='Teselagen-bio-parsers-Genbank-method-getLastKeyword'>		/**
</span>		 * Gets the last GenbankKeyword on the Keywords ArrayList
		 * @return {GenbankKeyword}
		 */
		this.getLastKeyword = function() {
			return keywords[keywords.length-1];
		}
		
<span id='Teselagen-bio-parsers-Genbank-method-addKeywordTag'>		/**
</span>		 * Add a single keyword name (String) to Genbank.KeywordTag
         * @param {String} pAddKeywordsTag
         */
		this.addKeywordTag = function(pAddKeywordsTag) {
			keywordsTag.push(pAddKeywordsTag);
		}
		
		
		/*this.get = function() {
			return ;
		}
		this.set = function() {
			 = ;
		}*/
		
		this.toString2 = function() {
			var gbStr = &quot;&quot;;
			for (var i=0; i &lt; keywordsTag.length; i++) {
				key = keywordsTag[i];
				console.log(key);
				//key = keywords[i].getKeyword();
				//gbStr += key + &quot;\n&quot;;
				
				switch (key) {
					case &quot;LOCUS&quot;:
						gbStr += find(&quot;LOCUS&quot;).toString() + &quot;\n&quot;;
						break;
					case &quot;DEFINITION&quot;:
						break;
					/*case &quot;ACCESSION&quot;:
						//gbStr += key.rpad(&quot; &quot;,12) + accession.getValue() + &quot;\n&quot;;
						//gbStr += (accession.getKeyword()).rpad(&quot; &quot;, 12) + accession.getValue() + &quot;\n&quot;;
						break;
					case &quot;VERSION&quot;:
						gbStr += &quot;VERSION&quot;.rpad(&quot; &quot;,12) + version + &quot;\n&quot;;
						break;
					case &quot;KEYWORDS&quot;:
						gbStr += &quot;KEYWORDS&quot;.rpad(&quot; &quot;, 12) + keywordsTag + &quot;\n&quot;;
						break;
					case &quot;SOURCE&quot;:
					*/
					case &quot;REFERENCE&quot;:
						//gbStr += references.toString();
						break;
					case &quot;FEATURES&quot;:
						break;
					case &quot;ORIGIN&quot;:
						gbStr += find(&quot;ORIGIN&quot;).toString();
						break;
					default:
						//gbStr += keywords[i].toString();
						break;
				}
			}
			
			return gbStr;
		}
		
<span id='Teselagen-bio-parsers-Genbank-method-toString'>		/**
</span>		 * Converts this GenbankSubKeywords to Genbank file format string
		 * @returns {String} gbStr
		 */
		this.toString = function() {
			var gbStr = &quot;&quot;;
			var entry;
			for (var i=0; i &lt; keywords.length; i++) {
				entry = keywords[i];
				console.log(entry);
				gbStr += keywords[i].toString() + &quot;\n&quot;;
				//console.log(Ext.getClassName(keywords[i]));
			}
			gbStr += &quot;//&quot;;
			return gbStr;
		}
		
<span id='Teselagen-bio-parsers-Genbank-method-toJSON'>		/**
</span>		 * Converts to JSON format. Overloads for JSON.stringify()
		 * @returns {Object} json
		 */
		this.toJSON = function() {
			var json = new Object();
			for (var i=0; i &lt; keywords.length; i++) {
				var key = keywords[i].getKeyword();
				json[key] = keywords[i];
			}
			
			return json;
		}
		
		return this;
    }

});</pre>
</body>
</html>
