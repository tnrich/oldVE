<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">
<span id='Teselagen-bio-parsers-GenbankFeatureElement'>/**
</span> * GenbankFeatureElement class 
 * Class for GenbankFeatureElement. An Element (e.g. CDS, mRNA, promoter, etc) spans some part of the sequence.
 * It's indices are defined by GenbankLocation and it's annotations by GenbankFeatureQualifier. 
 * @author Diana Wong
 * @author Timothy Ham (original author)
 */

Ext.define(&quot;Teselagen.bio.parsers.GenbankFeatureElement&quot;, {
	/* */

<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-constructor'>	/**
</span>	 * Creates a new GenbankFeatureElement from inData.
	 * There can be multiple featureQualifier and featureLocations for each FeatureElement.
	 * @param {Object} inData
	 * @param {String} key
	 * @param {String} strand
	 * @param {Boolean} complement
	 * @param {Boolean} join
	 * @param [GenbankFeatureQualifier] featureQualifer
	 * @param [GenbankLocation] featureLoation
	 */
	constructor: function (inData) {

		if (inData) {
			var key = inData.key;
			var strand = inData.strand;
			var complement = inData.complement;
			var join = inData.join;
			var featureQualifier = [];
			var featureLocation = [];
			
		} else {
			var key;
			var strand;
			var complement;
			var join;
			var featureQualifier;
			var featureLocation;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getKeyword'>		/**
</span>		 * Get keyword
		 */
		this.getKeyword = function() {
			return key;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setKey'>		/**
</span>		 * Set keyword
		 */
		this.setKey = function(pKey) {
			key = pKey;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getStrand'>		/**
</span>		 * Get strand
		 */
		this.getStrand = function() {
			return strand;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setStrand'>		/**
</span>		 * Set strand
		 */
		this.setStrand = function(pStrand) {
			strand = pStrand;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getFeatureQualifier'>		/**
</span>		 * Get featureQualifier
		 */
		this.getFeatureQualifier = function() {
			return featureQualifier;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setFeatureQualifier'>		/**
</span>		 * Set featureQualifier
		 */
		this.setFeatureQualifier = function(pFeatureQualifier) {
			featureQualifier = pFeatureQualifier;
		}
		
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-addFeatureQualifier'>		/**
</span>		 * Add a single GenbankFeatureQualifier to the featureQualifier array
		 * @param {GenbankFeatureQualifer} pQual
		 */
		this.addFeatureQualifier= function(pQual) {
			if (featureQualifier === undefined ) {
				featureQualifier = [];
			}
			featureQualifier.push(pQual);
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getFeatureLocation'>		/**
</span>		 * Get featureLocation
		 */
		this.getFeatureLocation = function() {
			return featureLocation;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setFeatureLocation'>		/**
</span>		 * Get featureLocation
		 */
		this.setFeatureLocation = function(pFeatureLocation) {
			featureLocation = pFeatureLocation;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-addFeatureLocation'>		/**
</span>		 * Add a single GenbankLocation to the featureLocation array
		 * @param {GenbankLocation} pLoc
		 */
		this.addFeatureLocation = function(pLoc) {
			if (featureLocation === undefined ) {
				featureLocation = [];
			}
			featureLocation.push(pLoc);
		}
		
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setComplement'>		/**
</span>		 * Set Complement to be true or false
		 */
		this.setComplement = function(bool) {
			complement = bool;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setJoin'>		/**
</span>		 * Set Join to be true or false
		 */
		this.setJoin = function(bool) {
			join = bool;
		}
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-toString'>		/**
</span>		 * Converts this GenbankLocusKeyword to Genbank file format string
		 */
		this.toString = function() {
			var line = &quot;     &quot; + key.rpad(&quot; &quot;, 16);
			var loc = &quot;&quot;;
			var qual = &quot;&quot;;
			//line += strand;
			for (var i=0; i &lt; featureLocation.length; i++) {
				loc += featureLocation[i].toString();
				if (i&lt;featureLocation.length - 1) { 
					loc += &quot;,&quot;;
				}
			}
			if (join) { 
				loc = &quot;join(&quot; + loc + &quot;)&quot;; 
			}
			if (complement) {
				loc = &quot;complement(&quot; + loc + &quot;)&quot;; 
			}

			for (var i=0; i &lt; featureQualifier.length; i++) {
				qual += featureQualifier[i].toString();
				if (i&lt;featureQualifier.length - 1) { 
					qual += &quot;\n&quot;;
				}
			}

			line = line + loc + &quot;\n&quot; + qual;
			return line;
		}
		
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-toJSON'>		/**
</span>		 * Converts to JSON format.
		 */
		this.toJSON = function() {
			var json = {
					key: key,
					strand: strand
			}
			
			if (featureLocation !== undefined &amp;&amp; featureLocation.length &gt; 0) {
				json[&quot;location&quot;] = [];
				for (var i = 0; i&lt;featureLocation.length; i++) {
					json[&quot;location&quot;].push(featureLocation[i]);
				}
			}
			
			if ( featureQualifier !== undefined &amp;&amp; featureQualifier.length &gt; 0) {
				json[&quot;qualifier&quot;] =[];
				for (var i = 0; i&lt;featureQualifier.length; i++) {
					json[&quot;qualifier&quot;].push(featureQualifier[i]);
				}
			}
			return json;
		}



		return this;
	}

});</pre>
</body>
</html>
