<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">
<span id='Teselagen-bio-parsers-GenbankFeatureElement'>/**
</span> * GenbankFeatureElement class 
 * Class for GenbankFeatureElement. Stored in an array in GenbankFeaturesKeyword
 * An Element (e.g. CDS, mRNA, promoter, etc) spans some part of the sequence.
 * Its indices are defined by GenbankFeatureLocation and it's annotations by GenbankFeatureQualifier. 
 * @author Diana Wong
 * @author Timothy Ham (original author)
 */
//Ext.require(&quot;Teselagen.bio.util.StringUtil&quot;);

Ext.define(&quot;Teselagen.bio.parsers.GenbankFeatureElement&quot;, {
    requires: [&quot;Teselagen.bio.util.StringUtil&quot;],
    
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-constructor'>    /**
</span>     * Creates a new GenbankFeatureElement from inData.
     * There can be multiple featureQualifier and featureLocations for each FeatureElement.
     * @param {String} keyword
     * @param {String} strand
     * @param {Boolean} complement
     * @param {Boolean} join
     * @param [GenbankFeatureQualifier] featureQualifer
     * @param [GenbankFeatureLocation] featureLoation
     */
    constructor: function (inData) {
        var keyword;
        var strand;
        var complement = false;
        var join = false;
        var featureQualifier;
        var featureLocation;

        if (inData) {
            keyword = inData.keyword;
            strand = inData.strand;
            complement = inData.complement;
            join = inData.join;
            featureQualifier = [];
            featureLocation = [];
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getKeyword'>        /**
</span>         * Get keyword
         */
        this.getKeyword = function() {
            return keyword;
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setKeyword'>        /**
</span>         * Set keyword
         */
        this.setKeyword = function(pKeyword) {
            keyword = pKeyword;
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getStrand'>        /**
</span>         * Get strand
         */
        this.getStrand = function() {
            return strand;
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setStrand'>        /**
</span>         * Set strand
         */
        this.setStrand = function(pStrand) {
            strand = pStrand;
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getFeatureQualifier'>        /**
</span>         * Get featureQualifier
         */
        this.getFeatureQualifier = function() {
            return featureQualifier;
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setFeatureQualifier'>        /**
</span>         * Set featureQualifier
         */
        this.setFeatureQualifier = function(pFeatureQualifier) {
            featureQualifier = pFeatureQualifier;
        }

<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getLastFeatureQualifier'>        /**
</span>         * Get Last GenbankFeatureElement in features array
         * @returns {GenbankFeatureElement} element
         */
        this.getLastFeatureQualifier = function() {
            if (featureQualifier.length &gt; 0) {
                return featureQualifier[featureQualifier.length-1];
            } else {
                return null;
            }
        }

<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-addFeatureQualifier'>        /**
</span>         * Add a single GenbankFeatureQualifier to the featureQualifier array
         * @param {GenbankFeatureQualifer} qual
         */
        this.addFeatureQualifier= function(pQual) {
            if (featureQualifier === undefined ) {
                featureQualifier = [];
            }
            featureQualifier.push(pQual);
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getFeatureLocation'>        /**
</span>         * Get featureLocation
         */
        this.getFeatureLocation = function() {
            return featureLocation;
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setFeatureLocation'>        /**
</span>         * Get featureLocation
         */
        this.setFeatureLocation = function(pFeatureLocation) {
            featureLocation = pFeatureLocation;
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-addFeatureLocation'>        /**
</span>         * Add a single GenbankFeatureLocation to the featureLocation array
         * @param {GenbankFeatureLocation} pLoc
         */
        this.addFeatureLocation = function(pLoc) {
            if (featureLocation === undefined ) {
                featureLocation = [];
            }
            featureLocation.push(pLoc);
        }

<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getComplement'>        /**
</span>         * Get Complement
         * @return {Boolean}
         */
        this.getComplement = function() {
            return complement;
        }

<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setComplement'>        /**
</span>         * Set Complement to be true or false
         * @param {Boolean}
         */
        this.setComplement = function(bool) {
            complement = bool;
        }

<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-getJoin'>        /**
</span>         * Get Join
         * @return {Boolean}
         */
        this.getJoin = function() {
            return join;
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-setJoin'>        /**
</span>         * Set Join to be true or false
         * @param {Boolean}
         */
        this.setJoin = function(bool) {
            join = bool;
        }
<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-toString'>        /**
</span>         * Converts this GenbankLocusKeyword to Genbank file format string
         * @returns {String}
         */
        this.toString = function() {
            var line = &quot;     &quot; + keyword.rpad(&quot; &quot;, 16);
            var loc = &quot;&quot;;
            var qual = &quot;&quot;;
            //line += strand;
            for (var i=0; i &lt; featureLocation.length; i++) {
                loc += featureLocation[i].toString();
                if (i&lt;featureLocation.length - 1) { 
                    loc += &quot;,&quot;;
                }
            }
            if (join) { 
                loc = &quot;join(&quot; + loc + &quot;)&quot;; 
            }
            if (complement) {
                loc = &quot;complement(&quot; + loc + &quot;)&quot;; 
            }

            for (var i=0; i &lt; featureQualifier.length; i++) {
                qual += featureQualifier[i].toString();
                if (i&lt;featureQualifier.length - 1) { 
                    qual += &quot;\n&quot;;
                }
            }

            line = line + loc + &quot;\n&quot; + qual;
            return line;
        }

<span id='Teselagen-bio-parsers-GenbankFeatureElement-method-toJSON'>        /**
</span>         * Converts to JSON format.
         * @returns {Object}
         */
        this.toJSON = function() {
            var json = {
                    keyword: keyword,
                    strand: strand
            }

            if (featureLocation !== undefined &amp;&amp; featureLocation.length &gt; 0) {
                json[&quot;location&quot;] = [];
                for (var i = 0; i&lt;featureLocation.length; i++) {
                    json[&quot;location&quot;].push(featureLocation[i]);
                }
            }

            if ( featureQualifier !== undefined &amp;&amp; featureQualifier.length &gt; 0) {
                json[&quot;qualifier&quot;] =[];
                for (var i = 0; i&lt;featureQualifier.length; i++) {
                    json[&quot;qualifier&quot;].push(featureQualifier[i]);
                }
            }
            return json;
        }



        return this;
    }

});</pre>
</body>
</html>
